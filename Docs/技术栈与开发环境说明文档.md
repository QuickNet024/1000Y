# 技术栈与开发环境说明文档

## 1. 项目简介
该项目旨在开发一个游戏智能体，通过强化学习（RL）或监督学习（SL）的方式实现模拟人工操作的游戏自动化行为。智能体能够识别游戏状态、做出决策并执行相应动作，实现高效的自动化打怪升级。

## 2. 技术栈

### 后端开发

- 语言：Python
- 选用 Python 是因为其丰富的机器学习、计算机视觉和游戏自动化库支持，易于开发和扩展。

#### 主要库与框架：

- 机器学习与深度学习：
  - PyTorch：用于构建和训练深度学习模型。
  - Stable-Baselines3：强化学习框架，支持多种RL算法（如DQN、PPO）。
  - scikit-learn：用于数据处理与模型评估。
- 图像处理：
  - OpenCV：用于游戏状态识别、图像预处理。
- 屏幕捕获与控制：
  - MSS：高性能屏幕截图工具。
  - PyAutoGUI 或 PyDirectInput：用于模拟鼠标和键盘操作。
- 数据处理：
  - NumPy：高效的数值计算库。
  - Pandas：用于处理游戏数据记录。
- 日志与配置管理：      
  - logging：记录运行日志。
  - PyYAML：解析配置文件（如.yaml）。
- 可视化：
  - Matplotlib、Seaborn：用于训练过程、数据分布的可视化。
  - TensorBoard：可视化训练过程的损失和性能。

### 前端开发

- Web前端管理工具（可选扩展）：
  - Flask 或 FastAPI：提供接口和实时数据监控功能。
  - HTML5 / JavaScript：实现前端展示功能。

### 开发工具

- 集成开发环境（IDE）：
  - VS Code：轻量级IDE，支持多种插件。
  - PyCharm：适合Python开发，功能强大。

- 版本控制：
  - Git：代码版本管理。
  - GitHub 或 GitLab：代码托管和协作。

## 3. 开发环境

### 硬件环境

- 最低配置：

    - CPU：Intel i5 第八代 或 AMD Ryzen 5 以上
    - 内存：16GB
    - 显卡：NVIDIA GTX 1650 或以上（支持CUDA加速）
    - 存储：至少 50GB 空间用于存储游戏数据与模型文件

### 推荐配置：  

- CPU：Intel i7 第十代 或 AMD Ryzen 7
- 内存：32GB
- 显卡：NVIDIA RTX 3060 或以上（强化学习的训练效率更高）
- 存储：SSD 512GB

### 软件环境

- 操作系统：

    Windows 10 或 Windows 11（适合游戏运行和调试）
    可选：Ubuntu 20.04 LTS（适合强化学习模型训练）

- Python 版本：

    Python 3.10 及以上

- 依赖库安装：

    - 使用 requirements.txt 快速安装所有依赖：
    ```
    pip install -r requirements.txt
    ```
    - 示例 requirements.txt 文件内容：
    ```
    torch
    torchvision
    stable-baselines3
    opencv-python
    numpy
    pandas
    matplotlib
    seaborn
    tensorboard
    mss
    pyautogui
    pyyaml
    scikit-learn
    ```
4. 技术架构 

### 主要模块

- 数据采集模块：
    截取游戏屏幕、采集玩家操作记录。
    通过状态识别提取游戏特征（如角色血量、敌人位置等）。
- 数据处理模块：
    图像预处理：裁剪、降噪、灰度化。
    数据清洗：处理采集到的玩家动作数据。
- 模型训练模块：
    使用监督学习（SL）训练玩家操作的模仿智能体。
    使用强化学习（RL）优化模型策略。
- 交互控制模块：
    模拟鼠标、键盘操作，执行模型决策。
- 日志与监控模块：  
    记录训练日志、决策结果。
    提供可视化功能，实时监控智能体运行状态。

### 5. 开发流程

- 阶段 1：数据采集
    配置游戏窗口参数（如分辨率、截图区域）。
    使用 MSS 截取屏幕并存储为图片文件。
    使用 PyAutoGUI 捕获玩家输入动作（如鼠标点击、按键记录）。
    保存数据至 data/raw/ 目录。

- 阶段 2：数据预处理
    使用 OpenCV 对截图进行处理：
    裁剪：保留关键区域。
    降噪：消除干扰信息。
    转换：灰度化或二值化处理。
    解析玩家操作数据并生成特征向量和标签。
    存储预处理后的数据至 data/processed/。

- 阶段 3：模型开发
    构建模型：
    CNN 提取游戏主视野特征。
    LSTM 结合时间序列信息。
    强化学习智能体优化决策。
    定义奖励函数：
    奖励：击败敌人、获取经验值。
    惩罚：死亡、无效操作。
    使用 Stable-Baselines3 进行强化学习训练。

- 阶段 4：模型部署
    加载训练好的模型。
    实时捕获游戏状态并进行动作决策。
    使用 PyAutoGUI 或 PyDirectInput 模拟操作执行。

- 阶段 5：测试与优化
    测试智能体性能，调整超参数。
    可视化训练曲线，分析模型收敛性。
    针对特定游戏场景，优化奖励函数和模型结构。

### 6. 项目扩展性

- 多游戏支持：通过修改输入特征提取方式，适配其他游戏。
- 前端控制面板：使用 Flask/FastAPI 提供实时监控界面。
- 分布式训练：使用多GPU或云计算加速强化学习训练。
- 对战模块：与其他AI或玩家进行对战测试。